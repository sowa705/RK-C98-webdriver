(function(){"use strict";const s=new Array,o=new Date,i=new Date,m=2e3;let t=!1;self.addEventListener("message",e=>{if(e.data==="start")console.log("Communication start loop...."),g();else if(e.data==="getReport")t=!0,i.setTime(new Date().getTime());else if(e.data==="stopGet")t=!1;else{let a=e.data;s.splice(0,0,a),console.log("Put mouse Message")}});function g(){setInterval(()=>{const e=new Date;let a=e.getTime()-o.getTime();if(e.getTime()-i.getTime()>m&&(t=!1),t)a>20&&(self.postMessage("getReport"),o.setTime(e.getTime()));else if(s.length>0){let l=s.pop();l!=null&&(self.postMessage(l),console.log("Post mouse Message"),o.setTime(e.getTime()))}},100)}})();
